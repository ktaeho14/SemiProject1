DROP TABLE LOST_ANIMALS_REVIEW;

CREATE TABLE LOST_ANIMALS_REVIEW(

	RV_NO    NUMBER  CONSTRAINT PK_RV_NO PRIMARY KEY,
	NUM      NUMBER  NOT NULL,
	TITLE    VARCHAR(2000) NOT NULL,
	RV_PIC   VARCHAR(2000) NOT NULL,
	ID       VARCHAR(500)  NOT NULL,
	LOSTDATE  DATE          NOT NULL,
	PROVINCE  VARCHAR(200)  NOT NULL,--도/특별시/광역시
	RESERV    VARCHAR(2000) NOT NULL,--나머지 주소
	LOSTPLACE VARCHAR(2000) NOT NULL,
	SPECIES   VARCHAR(100)  NOT NULL,
	CATE      VARCHAR(2000) NOT NULL,
	CONTENT   LONG			NOT NULL,
	REGDATE   DATE          DEFAULT SYSDATE
);

SELECT T.* FROM (SELECT ROWNUM R, TARGET.*
FROM (SELECT RV_NO, NUM, TITLE, RV_PIC, ID, LOSTDATE, PROVINCE, RESERV, LOSTPLACE, SPECIES, CATE, CONTENT, REGDATE
FROM   LOST_ANIMALS_REVIEW) TARGET)T;

SELECT T.* FROM (SELECT ROWNUM R, TARGET.*
FROM (SELECT RV_NO, NUM, TITLE, RV_PIC, ID, LOSTDATE, PROVINCE, RESERV, LOSTPLACE, SPECIES, CATE, CONTENT, REGDATE
FROM   LOST_ANIMALS_REVIEW) TARGET)T
WHERE  T.R BETWEEN 1 AND 9;

SELECT RV_NO, NUM, TITLE, RV_PIC, ID, LOSTDATE, PROVINCE, RESERV, LOSTPLACE, SPECIES, CATE, CONTENT, REGDATE FROM LOST_ANIMALS_REVIEW WHERE RV_NO=1;

--지역별 조회
SELECT COUNT(RV_NO)
FROM  LOST_ANIMALS_REVIEW
WHERE PROVINCE='경기도';

SELECT T.*
FROM (SELECT ROWNUM R, TARGET.*
FROM (SELECT RV_NO, NUM, TITLE, RV_PIC, ID, LOSTDATE, PROVINCE, RESERV, LOSTPLACE, SPECIES, CATE, CONTENT, REGDATE
FROM   LOST_ANIMALS_REVIEW
WHERE  PROVINCE='서울특별시')TARGET)T;


SELECT T.*
FROM (SELECT ROWNUM R, TARGET.*
FROM (SELECT RV_NO, NUM, TITLE, RV_PIC, ID, LOSTDATE, PROVINCE, RESERV, LOSTPLACE, SPECIES, CATE, CONTENT, REGDATE
FROM   LOST_ANIMALS_REVIEW
WHERE  PROVINCE='서울특별시'
ORDER  BY RV_NO DESC)TARGET)T
WHERE  T.R BETWEEN 1 AND 9;

SELECT COUNT(RV_NO)
FROM   LOST_ANIMALS_REVIEW
WHERE  ID='ADMIN';


--회원별 조회
SELECT RV_NO, NUM, TITLE, RV_PIC, ID, LOSTDATE, PROVINCE, RESERV, LOSTPLACE, SPECIES, CATE, CONTENT, REGDATE
FROM   LOST_ANIMALS_REVIEW
WHERE  ID='ADMIN'
ORDER  BY RV_NO DESC;


SELECT T.*
FROM (SELECT ROWNUM R, TARGET.*
FROM (SELECT RV_NO, NUM, TITLE, RV_PIC, ID, LOSTDATE, PROVINCE, RESERV, LOSTPLACE, SPECIES, CATE, CONTENT, REGDATE
FROM   LOST_ANIMALS_REVIEW
WHERE  ID='ADMIN'
ORDER  BY RV_NO DESC) TARGET) T
WHERE T.R BETWEEN 1 AND 9;